# =================================================
# OPENSTACK LAB INVENTORY (Kolla-Ansible)
# Nodes: 3 Control, 2 Compute, 1 Deployment
# =================================================

# ------------------------------------------------
# CONTROL NODES (HA)
# ------------------------------------------------
[control]
ctrl01
ctrl02
ctrl03

[network]
ctrl01
ctrl02
ctrl03

[monitoring]
ctrl01

[mariadb]
ctrl01
ctrl02
ctrl03

[rabbitmq]
ctrl01
ctrl02
ctrl03

[glance-api]
ctrl01
ctrl02
ctrl03

[horizon]
ctrl01
ctrl02
ctrl03

[keystone]
ctrl01
ctrl02
ctrl03

[placement-api]
ctrl01
ctrl02
ctrl03

# ------------------------------------------------
# COMPUTE NODES
# ------------------------------------------------
[compute]
cmp01
cmp02

# ------------------------------------------------
# STORAGE (LVM Cinder)
# ------------------------------------------------
[storage]
cmp01
cmp02

# ------------------------------------------------
# DEPLOYMENT NODE
# ------------------------------------------------
[deployment]
deploy01

# ------------------------------------------------
# LOADBALANCER - HAPROXY
# ------------------------------------------------
[loadbalancer]
ctrl01
ctrl02
ctrl03

# ------------------------------------------------
# NOVA SERVICES
# ------------------------------------------------

[nova-api]
ctrl01
ctrl02
ctrl03

[nova-scheduler]
ctrl01
ctrl02
ctrl03

[nova-conductor]
ctrl01
ctrl02
ctrl03

[nova-super-conductor]
ctrl01
ctrl02
ctrl03

[nova-novncproxy]
ctrl01
ctrl02
ctrl03

[nova-spicehtml5proxy]
# Deshabilitado en lab

[nova-serialproxy]
# Deshabilitado en lab

[nova-libvirt]
cmp01
cmp02

[nova-ssh]
cmp01
cmp02

[nova-compute-ironic]
# Vac√≠o, porque no usamos Ironic

# ------------------------------------------------
# NEUTRON SERVICES (OVN)
# ------------------------------------------------
[neutron-server]
ctrl01
ctrl02
ctrl03

[neutron-dhcp-agent]
ctrl01
ctrl02
ctrl03

[neutron-l3-agent]
ctrl01
ctrl02
ctrl03

[neutron-metadata-agent]
ctrl01
ctrl02
ctrl03

[neutron-ovn-metadata-agent]
ctrl01
ctrl02
ctrl03

[neutron-ovn-agent]
cmp01
cmp02

[ironic-neutron-agent]
ctrl01
ctrl02
ctrl03

[ovn-northd]
ctrl01
ctrl02
ctrl03

[neutron-bgp-dragent]
# Deshabilitado

[neutron-infoblox-ipam-agent]
# Deshabilitado

[neutron-metering-agent]
# Deshabilitado

[neutron-linuxbridge-agent]
# No usado en OVN

[neutron-sriov-agent]
# No usado en lab

[neutron-mlnx-agent]
# No usado en lab

[neutron-eswitchd]
# No usado en lab

[memcached]
ctrl01
ctrl02
ctrl03

# ------------------------------------------------
# OVN Databases
# ------------------------------------------------
[ovn-nb-db]
ctrl01
ctrl02
ctrl03

[ovn-sb-db]
ctrl01
ctrl02
ctrl03

# ------------------------------------------------
# OVN Controllers (van en compute nodes)
# ------------------------------------------------
[ovn-controller]
cmp01
cmp02

[ovn-controller-network]
cmp01
cmp02

[ovn-controller-compute]
cmp01
cmp02

# ------------------------------------------------
# BAREMETAL (para bootstrap)
# ------------------------------------------------
[baremetal:children]
control
compute

# Grupo requerido por algunos roles de Kolla-Ansible
[bifrost]
ctrl01
ctrl02
ctrl03
cmp01
cmp02